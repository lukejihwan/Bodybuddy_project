
안녕하십니까, 5조 발표를 진행하겠습니다.

저희의 프로젝트은 운동 커뮤니티 웹 사이트입니다.
개발자에게 가장 좋은 취미생활은 무엇일까요?

저는 운동이라고 생각하는데요,

저도 자기관리를 좋아하는 사람으로서 매주 운동을 하는데
매일의 운동을 기록할 수 있고, 정보를 얻을 수 있으며, 사람들과 소통이 가능한 플랫폼이 있었으면 좋겠다는 생각을 했습니다.

이런 아이디어에서 저희의 프로젝트가 시작이 되었구요,

개발을 시작하기에 앞서 요구사항들을 살펴보았습니다
크게 두 가지로 나뉘어서 설명드리면,

-------------------------------------------
시스템 요구사항
- 시스템적 제사용을 기반으로 구현한다. 
- 보안 관련 적용할 보안 기술, 적용 방안을 제시한다.

기능 요구사항
- 회원은 게시판을 이용하여 글을 등록하고 수정 삭제 조회할 수 있다.
- 회원은 회원가입 및 소셜 로그인을 할 수 있다.
- 회원은 위치 정보를 이용하여 주변 헬스장, 공원 등의 정보를 얻을 수 있다.
- 회원은 자신의 총 걸음 거리를 측정하여 저장할 수 있다.
--------------------------------------------

시스템 요구사항으로는,
시스템적 재사용을 기반으로 구현하는 것이 목표였기 때문에,
객체지향 원리와 이론적 토대 위에서 올바른 코드를
작성하는 것을 목표로 했구요,		// MVC 패턴 적용

또 보안 관련 적용할 기술과, 방안 등을 제시하도록 하였습니다.


기능 요구사항으로
이 어플리케이션을 사용할 유저들의 입장에서 이 웹을 통해 얻을 수 있는 이윤이 무엇일까 하는 관점에서 살펴보았습니다.

우선, 커뮤니티 사이트라는 점에서 기본적으로 게시판을 통해 사진을 첨부하여 글을 등록하고 수정 삭제 및 조회할 수 있는가.
또 회원가입을 통해 서비스를 이용할 수 있고, 소셜 로그인으로도 편리하게 이용 가능한가.

위치정보를 이용하여 주변 헬스장, 공원 등의 오프라인 시설에 대한 정보를 얻을 수 있는가.

또한 모바일 어플리케이션을 통해 자신의 걸음 거리를 측정하여 기록을 할 수 있는가.

그리고
운동 관련 동영상 검색과 식품의 칼로리 계산 등 부가적인 편리 서비스를 제공받을 수 있는가.
크게 이렇게 정리할 수 있습니다.

이와 같은 요구사항들을 정리해서 각자 분배하여 담당 기능들을 구현하였구요,


//
개발환경은
저희는 이클립스 전자정부 프레임워크 40 버전을 사용했고,
그리고 안드로이드 스튜디오도 이용하였구요,

스프링 레거시와 스프링 시큐리티를 활용했고, 
AWS RDS와 GIT을 활용하여 협업을 위한 프로젝트 관리를 하였습니다.

사용한 기술 스택들로 API와 라이브러리를 많이 참조하였습니다.


어떠한 기술을 사용하여 어떻게 구현하였는지는
 기능의 담당자들이 차례로 설명드리겠습니다.


// 운동 게시판
먼저 운동 카테고리에 대한 부분입니다.

운동 카테고리에 해당하는 게시판은 크게 운동정보, 루틴공유, 운동 팁, 오운완 이렇게
 4가지로 나뉘어져 있습니다.


운동정보게시판은 관리자 전용게시판이기 때문에
분리된 관리자용 디스패처에게 요청을 해야 합니다.

/
어드민으로 분리해놓은 uri로 어드민 페이지에 접근하여
어드민 컨트롤러에게 CRUD 작업을 진행하게 합니다.
exrNotice라고 명명한 데이터베이스에 정보글을 저장하고
관리할 수 있도록 하였습니다.
/
작성된 글은 유저 홈페이지에서 조회만 가능하도록 하였습니다.

해당 게시글 옆에 카테고리로 나뉘어진 사이드바를 두어서
원하는 정보를 보다 빠르게 조회할 수 있도록
구성하였습니다.



//
루틴 공유 게시판입니다.


이 게시판이 하는 일의 구조를 정리해보았습니다.

유저들이 자신 일상이나 운동 루틴같은 것을 올리며 소통하는 공간입니다.
기본적으로 사진을 첨부하여 글을 등록하고 조회할 수 있습니다.
사이트의 회원일 경우에만 이용이 가능합니다.

그리고 작성한 글에 대한 수정 삭제 권한은 작성자에게만 제한을 두어서
본인 작성한 글만 수정과 삭제 버튼을 보이도록 하였구요,

본인이 작성하지 않은 글은 조회만 가능하도록 하였습니다.


그리고, 게시물을 따로 보관하여 보고 싶을 수 있기 때문에,
스크랩과 비슷한 기능으로 찜하기 버튼을 두어
따로 저장할 수 있도록 하였구요, 이는 앞서 보인 찜한 글에서 확인이 가능합니다.


해당 게시물에는 댓글 폼이 있어서 댓글을 작성할 경우
댓글 테이블을 자식관계로 두어 따로 저장하고 관리가 가능하도록 하였습니다.
/
해당 게시물에 대한 댓글과 댓글에 대한 답글이 가능합니다.
저같은 경우에는 깊이 depth를 1로 두었습니다.


제목을 이용하여 검색 가능하고,
카테고리별로 조회 가능하고
댓글 개수, 페이징 처리 등을 하였습니다.


//
운동팁 게시판은 전체 흐름은 앞서 보여드린 루틴 공유 게시판과 비슷한 포맷인데요,
다만 여기는 유저가 원하는 건강관련 키워드를 직접 서치할 수 있도록 하고,

유튜브 데이터로 검색 결과를 받아서 
스크랩하고 싶은 동영상을 태그를 이용하여 가오는 방식으로
 게시판을 구성하였습니다.
/
Youtube Data API를 이용해서 서버로 Ajax 요청을 하면

API에서 제공하는 q라는 키워드가 서치키로서 검색어 전송이 됩니다.
검색 결과에 해당하는 상위 영상과 썸네일을 추출하였고,
 10개로 제한을 둬서 받은 데이터를
iframe 태그에 담아 화면에 append 하였습니다.

/
이런 식으로 검색하면 영상이 출력하도록 하였습니다.
페이지에서 바로 재생이 가능하고 썸네일 확인 가능합니다.


//그 다음은 오운완 게시판 입니다.,
이 게시판도 앞서 설명한 게시판들과 같은 포맷이기 때문에
열심히 구현은 하였지만, 설명은 생략하도록 하고,

다만 여기서 추가된 기능으로는 모바일 앱에서도 작성이 가능한 것입니다.
따라서 안드로이드 구현에 대한 설명으로 넘어가겠습니다.


///
안드로이드에서도 처음 앱을 가동시키면 로그인 처리를 우선적으로 하도록 하였습니다,

로그인을 하면 서버로 Post 전송이 되어서 
시큐리티 필터를 거쳐 데이터 조회를 하고 그에 대한 내용을
ContextHolder가 멤버정보를 담은 DTO를 전달해줍니다.

잭슨 컨버터를 통해 ResponseEntity를 전달하면
안드로이드에서 받아서 제이슨으로 형변환을 하고

원하는 회원의 정보를 추출하여 사용하도록 하였습니다.

/
사용 케이스를 보여드리면,

로그인 성공하면 화면 전환이 되면서
MapFragment가 출력이 되고
위치 정보를 허용하면, 사용자의 실시간 위치 정보가 수집이 됩니다.
기록을 할 시점부터 시작버튼을 누르면 해당 위치의 위도, 경도 값이 저장됩니다.
저장되는 좌표값과 동시에 거리 미터수도 같이 수집이 됩니다.

이는 중지할 때까지 지속되고, 중지버튼을 누르면 데이터 수집을 멈추고,
맵라인이 그려집니다.

확인 후 저장 버튼을 누르면,
좌표값과 거리 총량이 각각 서버로 전송되어서 db에 저장됩니다.

여기서 노란색으로 된 부분은 스프링 서버와 연동된 작업을 의미합니다.

/
모바일 화면에서 이런 식으로 맵라인이 출력이 되구요,
라인으로 그려진 거리는 모두 계산되어 저장됩니다.

저장된 데이터는 웹에서 기록과 랭킹에 사용이 되는데
어떻게 사요이 되는지는 뒤에서 담당 기능과 함께 설명드릴겁니다.

이부분은 개인적으로 구현한 기능 중 가장 뿌듯했던 부분인데

운동할 때에는 경쟁시스템이 좋은 동기부여가 되기 때문에
이것을 활용하면 좋은데, 그 기준을 무엇으로 해야할까가 저희의
프로젝트 주요 관심 사항이기도 했습니다.

이 문제를 모바일 디바이스와의 연동으로 해결할 수 있어서
다양한 툴을 활용한 개발 요구사항을 충족한 사례가 되었습니다.

//

